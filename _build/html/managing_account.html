
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Managing your account &#8212; fractal-docs 0.0.1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="managing-your-account">
<h1>Managing your account<a class="headerlink" href="#managing-your-account" title="Permalink to this headline">¶</a></h1>
<p>After installing your version of go-fractal, you can generate your account for mining or wallet.</p>
<p><strong>WARNING</strong>
Remember your password. The password is used for encryption of Mining.
Note that, <strong>password is different from Keys</strong> , and there are two kinds of keys:one is for mining and the other is for transaction.</p>
<p>If you forget your password ,you will not be able to get your money back ,mine block with your existing balance , or send transactions any more.</p>
<p><strong>Repeat: Backup your password</strong></p>
<p>The fractal CLI <code class="docutils literal notranslate"><span class="pre">gtool</span></code> provides account management via the <code class="docutils literal notranslate"><span class="pre">keys</span></code> command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ gtool [options...] [arguments...] keys &lt;command&gt;
</pre></div>
</div>
<p>Manage accounts lets you create new accounts, list all existing accounts, change your password.</p>
<p>It supports interactive mode, when you are prompted for password as well as non-interactive(<strong>it means you can use it in scripted file like shell</strong>) mode where passwords are supplied via a given password file.
Non-interactive mode is only meant for scripted use on test networks or known safe environments.</p>
<p>Make sure you remember the password you gave when creating a new account (with new, update). Without it you are not able to unlock your account.</p>
<p>Note that exporting your key in unencrypted format is NOT supported.</p>
<p>Keys are stored under <code class="docutils literal notranslate"><span class="pre">&lt;DATADIR&gt;/keystore</span></code>. Make sure you backup your keys regularly! If a custom datadir and keystore option are given the keystore
option takes preference over the datadir option.</p>
<dl class="simple">
<dt>The newest format of the two keyfiles are: <code class="docutils literal notranslate"><span class="pre">UTC--&lt;created_at</span> <span class="pre">UTC</span> <span class="pre">ISO8601&gt;-&lt;address</span> <span class="pre">hex&gt;--X</span></code>. When <cite>X= 0</cite> ,it means the mining key,when <cite>X= 1</cite> ,it means the transaction key. The order of accounts when listing,</dt><dd><p>is lexicographic, but as a consequence of the timestamp format, it is actually order of creation.</p>
</dd>
</dl>
<p>It is safe to transfer the entire directory or the individual keys between fractal nodes. Note that in case you are adding keys to your node from a different node,
the order of accounts may change. So make sure you do not rely on the index in your scripts or code snippets.</p>
<p>And again. <strong>DO NOT FORGET YOUR PASSWORD</strong></p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>COMMANDS:
    list    Print summary of existing accounts
    new     Create a new account
    update  Update an existing account
</pre></div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="interactive-use">
<h2>Interactive use<a class="headerlink" href="#interactive-use" title="Permalink to this headline">¶</a></h2>
<p>creating an account</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>//create a directory
$ mkdir data

//make a new account
$ gtool --keys data/keys --pass <span class="m">666</span> keys newkeys
Your new account is locked with a password. Please give a password. Do not forget this password.
Passphrase:
Repeat passphrase:
Address: <span class="o">{</span>197acc66644b33e8ae8c9dea4811bab84c510716<span class="o">}</span>
</pre></div>
</div>
<p>Listing accounts in a custom <code class="docutils literal notranslate"><span class="pre">datadir</span></code> directory or <code class="docutils literal notranslate"><span class="pre">datadir/keystore</span></code> directory</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ gftl --datadir data/ account list

//another way is --keystore
$ gftl --keystore data/keystore/ account list
Account <span class="c1">#0: {3a6deb5a0a041a0c139fa1d43f321c68e574a8a7}</span>
Account <span class="c1">#0(miner key): {128: 81c2a2af1236d7eabe0405baf02fb38d6cadf7b55c22705d10653e72e97eb81a553b68423f0a404b6ab36f6f04a18d09db46ba383a4e3cda2e38d560cfd9bb903d45314ef78c1979656d07f5aad70b6f92666a92b6d8bdcb9e02f45b3830de0066d0240efff152b2ca2d351e743184b9cd2e4e249f491f26e4e37c3736cd5e11}</span>
Account <span class="c1">#1: {c28a50f3af771c799297b3f8f2887b323ff6deed}</span>
Account <span class="c1">#1(miner key): {128: 3639b3a48cfaa81c978ce456bbc6478a1a56c6910b556670ba007c053699b2427b14ef89e9ef6bf7df8acf8172e29afd4f06fe2bb5e6753371f0e9a0ed3d888119507d518f0fa7df66a09d39ab9c2693064aa3a19644086678ea28ca8065d563269f451e197405759aa9bdb8dba6c68ea18fbeacacba936c12abfd07fe472721}</span>
</pre></div>
</div>
<p>Changing account password in a custom <code class="docutils literal notranslate"><span class="pre">datadir</span></code> directory or <code class="docutils literal notranslate"><span class="pre">datadir/keystore</span></code> directory</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ gftl --datadir data/  account update c28a50f3af771c799297b3f8f2887b323ff6deed

//use keystore
$ gftl --keystore data/keystore  account update c28a50f3af771c799297b3f8f2887b323ff6deed
Please enter the old password.
Passphrase:
Please give a new password. Do not forget this password.
Passphrase:
Repeat passphrase:
</pre></div>
</div>
<p>You can also specify multiple accounts at once.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>gftl --keystore data/keystore/  account update  91cd09230939cdbf0066c689f4b7f8c224e72c23 dac185bceccb81c64cf0af645d34d68df94fe275
</pre></div>
</div>
</div>
<div class="section" id="non-interactive-use">
<h2>Non-interactive use<a class="headerlink" href="#non-interactive-use" title="Permalink to this headline">¶</a></h2>
<p>You supply a plaintext password file as argument to the <code class="docutils literal notranslate"><span class="pre">--password</span></code> flag. The data in the file consists of the raw characters of the password, followed by a single newline.</p>
<p><strong>Note</strong>: Supplying the password directly as part of the command line is not recommended,
but you can always use shell trickery to get round this restriction.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ gftl --password pwd.txt --datadir data/ account new
</pre></div>
</div>
<p><strong>Warning:</strong> If you use the password flag with a password file, best to make sure the file is not readable or even listable for anyone but you. You achieve this with:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>//path is a directory you make
touch /path/pwd.txt
chmod <span class="m">700</span> /path/pwd
</pre></div>
</div>
<p>On the console, use:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>&gt; personal.NewAccount<span class="o">()</span>
... you will be prompted <span class="k">for</span> a password ...
</pre></div>
</div>
<p>or</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>&gt; personal.newAccount<span class="o">(</span><span class="s2">&quot;passphrase&quot;</span><span class="o">)</span>
</pre></div>
</div>
<p>Listing accounts and checking balances</p>
<p>Listing your current accounts When using the console:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>&gt; gftl.accounts
<span class="o">[</span><span class="s2">&quot;0x5afdd78bdacb56ab1dad28741ea2a0e47fe41331&quot;</span>, <span class="s2">&quot;0x9acb9ff906641a434803efb474c96a837756287f&quot;</span><span class="o">]</span>
</pre></div>
</div>
<p>or via RPC:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>Request
$ curl -X POST --data <span class="s1">&#39;{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;method&quot;:&quot;eth_accounts&quot;,&quot;params&quot;:[],&quot;id&quot;:1} http://127.0.0.1:8545&#39;</span>
Result
<span class="o">{</span>
<span class="s2">&quot;id&quot;</span>:1,
<span class="s2">&quot;jsonrpc&quot;</span>: <span class="s2">&quot;2.0&quot;</span>,
<span class="s2">&quot;result&quot;</span>: <span class="o">[</span><span class="s2">&quot;0x5afdd78bdacb56ab1dad28741ea2a0e47fe41331&quot;</span>, <span class="s2">&quot;0x9acb9ff906641a434803efb474c96a837756287f&quot;</span><span class="o">]</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Checking account balances</p>
<p>To check your the account balance:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>&gt; rubanjs.fromWei<span class="o">(</span>gftl.getBalance<span class="o">(</span>gftl.coinbase<span class="o">)</span>, <span class="s2">&quot;gftl&quot;</span><span class="o">)</span>
<span class="m">6</span>.5
</pre></div>
</div>
<p>Print all balances with a JavaScript function:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="k">function</span> checkAllBalances<span class="o">()</span> <span class="o">{</span>
    var <span class="nv">totalBal</span> <span class="o">=</span> <span class="m">0</span><span class="p">;</span>
    <span class="k">for</span> <span class="o">(</span>var acctNum in eth.accounts<span class="o">)</span> <span class="o">{</span>
        var <span class="nv">acct</span> <span class="o">=</span> eth.accounts<span class="o">[</span>acctNum<span class="o">]</span><span class="p">;</span>
        var <span class="nv">acctBal</span> <span class="o">=</span> web3.fromWei<span class="o">(</span>eth.getBalance<span class="o">(</span>acct<span class="o">)</span>, <span class="s2">&quot;ether&quot;</span><span class="o">)</span><span class="p">;</span>
        <span class="nv">totalBal</span> <span class="o">+=</span> parseFloat<span class="o">(</span>acctBal<span class="o">)</span><span class="p">;</span>
        console.log<span class="o">(</span><span class="s2">&quot;  eth.accounts[&quot;</span> + acctNum + <span class="s2">&quot;]: \t&quot;</span> + acct + <span class="s2">&quot; \tbalance: &quot;</span> + acctBal + <span class="s2">&quot; ether&quot;</span><span class="o">)</span><span class="p">;</span>
    <span class="o">}</span>
    console.log<span class="o">(</span><span class="s2">&quot;  Total balance: &quot;</span> + totalBal + <span class="s2">&quot; ether&quot;</span><span class="o">)</span><span class="p">;</span>
<span class="o">}</span><span class="p">;</span>
</pre></div>
</div>
<p>That can then be executed with:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>&gt; checkAllBalances<span class="o">()</span><span class="p">;</span>
eth.accounts<span class="o">[</span><span class="m">0</span><span class="o">]</span>: 0xd1ade25ccd3d550a7eb532ac759cac7be09c2719         balance: <span class="m">63</span>.11848 ether
eth.accounts<span class="o">[</span><span class="m">1</span><span class="o">]</span>: 0xda65665fc30803cb1fb7e6d86691e20b1826dee0         balance: <span class="m">0</span> ether
eth.accounts<span class="o">[</span><span class="m">2</span><span class="o">]</span>: 0xe470b1a7d2c9c5c6f03bbaa8fa20db6d404a0c32         balance: <span class="m">1</span> ether
eth.accounts<span class="o">[</span><span class="m">3</span><span class="o">]</span>: 0xf4dd5c3794f1fd0cdc0327a83aa472609c806e99         balance: <span class="m">6</span> ether
</pre></div>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">fractal-docs</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, fractal.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.1.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/managing_account.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>